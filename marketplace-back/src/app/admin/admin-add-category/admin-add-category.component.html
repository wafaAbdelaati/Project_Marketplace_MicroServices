<h2 class="mb-4 h2-responsive ">Nouvelle Categorie</h2>

<!-- Horizontal material form -->
<form  (submit)="addNewCategory()">
    <!-- Grid row -->
    <div class="form-group row justify-content-center">
      <!-- Material input -->

      <div class="col-sm-10">
        <div class="md-form mt-0">
        
                <input (keyup)="validate(name)" required #name="ngModel"  mdbInput type="text"  class="form-control" [(ngModel)]="newCategory.name" [ngModelOptions]="{standalone: true}">
                <label for="form1" class="">Nom de la categorie</label>
                <div *ngIf="name.invalid && (name.dirty || name.touched)">
                <mdb-error *ngIf="name.errors.required">Le nom de la categorie est obligatoire </mdb-error>
                <mdb-error *ngIf="name.errors.pattern">Nom invalide </mdb-error>
            </div>
            <div *ngIf="name.value!='' && name.errors!=null && (name.dirty || name.touched)">
                <mdb-error *ngIf="name.errors.pattern">Nom Invalide </mdb-error>
            </div>
            
        </div>
      </div>
    </div>

    <!-- Grid row -->
    <div class="form-group row">
      <!-- Material input -->
      <label for="name" class="col-sm-2 col-form-label"><strong>Sous Categories</strong></label>
     
    </div>
    <!-- Grid row -->
 
      <div class="form-group row justify-content-center">
        <div class="col-sm-10">
          <table class="table table-bordered table-responsive-md table-striped text-center">
            <tr>
              <th class="text-center">#</th>
              <th class="text-center">Nom de la sous Categorie </th>
              
      
            </tr>
         
             <tr *ngFor="let subCategory of newCategory.subCategories ;let id=index">
             
                <td>
                  <span >{{id+1}}</span>
                </td>
                <td>
                    <div class="md-form" style="margin: 0;">
                        <input (keyup)="check(nameS)" required  #nameS="ngModel"  mdbInput type="text" id="form1" class="form-control" [(ngModel)]="subCategory.name" [ngModelOptions]="{standalone: true}">
                        <label for="form1" class="">Nouvelle Sous Categorie</label>
                        <div *ngIf="nameS.invalid && (nameS.dirty || nameS.touched)">
                            <mdb-error *ngIf="nameS.errors.required">Le nom de la sous categorie est obligatoire </mdb-error>
                        </div>
                        <div *ngIf="nameS.value!='' && (nameS.dirty || nameS.touched)">
                            <mdb-error *ngIf="!validator.AlphabetOnly(nameS.value)">Nom Invalide </mdb-error>
                        </div>
                      </div>
              
                </td>
               </tr>
              
          </table>
          <span class="table-add float-right mb-3 mr-2">
              <a class="text-success"  (click)="addSubCategory()" style="color: #00bd9d!important;">
                  <mdb-icon far icon="plus-square" size="2x"></mdb-icon>
              </a>
             
            </span>
            
        </div>
      </div>
  
    <!-- Grid row -->
    <div class="form-group row ">
      <div class="col-sm-12">
        <button [class.disabled]="name.invalid ||!valid"  type="submit" class="btn btn-custom btn-md">Valider</button>
        <button (click)="cancel()" type="button" class="btn btn-danger  btn-md">Annuler</button>
      </div>
    </div>
    <!-- Grid row -->
  </form>
  <!-- Horizontal material form -->
